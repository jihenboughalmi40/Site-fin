jQuery(document).ready(function(e){e("[data-hide-element]").each(function(){let t=e(this).find("input"),s=e(this).attr("data-hide-element").split(",");function i(){s.forEach(function(s){let i;s=s.trim(),i=e("#"+s),t.is(":checked")&&i.slideUp()})}i(),t.on("change",function(){i()})}),e("[data-show-element]").each(function(){let t=e(this).find("input"),s=e(this).attr("data-show-element").split(",");function i(){s.forEach(function(s){let i;s=s.trim(),i=e("#"+s),t.is(":checked")&&i.slideDown()})}i(),t.on("change",function(){i()})}),e("[data-toggle-element]").each(function(){let t=e(this).find("input"),s=e(this).attr("data-toggle-element").split(",");function i(){s.forEach(function(s){let i;s=s.trim(),i=e("#"+s),t.is(":checked")?i.slideDown():i.slideUp()})}i(),t.on("change",function(){i()})}),e("[data-turnoff-element]").each(function(){let t=e(this).find("input"),s=e(this).attr("data-turnoff-element").split(",");function i(){s.forEach(function(s){let i;s=s.trim(),i=e("#"+s),t.is(":checked")&&(i.prop("checked",!1),i.trigger("change"))})}i(),t.on("change",function(){i()})}),e(".custom-select-img").select2({templateResult:function(t){if(!t.id)return t.text;var s=wpcc_image_path;return e('<span><img src="'+s+"/cursor-"+t.element.value.toLowerCase()+'.svg" class="img-select" /> '+t.text+"</span>")}}),e(".custom-select").select2();const t=e=>{let t=0,s=0;return{x:t=e.clientX,y:s=e.clientY}};class s{constructor(e){if(this.settings={mousePos:{x:0,y:0},cursorWidth:30,defaultCursor:0,type:0,url:null,shape:1,shapeClass:"cursor-",color:"#000000",blending:"normal",hoverEffect:"plugin",preview:document.querySelector("#wt-preview"),cursor:document.createElement("div"),cursorEl1:document.createElement("div"),cursorEl2:document.createElement("div"),blobEl:document.createElement("div"),cursorImg:null,imageVector:document.querySelector(".cursor > *"),links:document.querySelectorAll('a, button, input[type="checkbox"], input[type="radio"], input[type="button"], input[type="submit"], input[type="file"], select, .rs-waction'),inputs:document.querySelectorAll('input[type="text"], input[type="email"], input[type="search"], input[type="number"], input[type="password"], input[type="url"], input[type="date"], input[type="range"], textarea')},Object.assign(this.settings,e),this.settings.shapeClass+=this.settings.shape,0==this.settings.defaultCursor?this.settings.preview.style.setProperty("--default-cursor","none"):this.settings.preview.style.setProperty("--default-cursor","auto"),this.settings.preview.style.setProperty("--cursor-width",this.settings.cursorWidth+"px"),this.settings.preview.style.setProperty("--color",this.settings.color),this.settings.preview.style.setProperty("--blending-mode",this.settings.blending),this.init(),this.settings.preview.className="custom-cursor",this.settings.preview.classList.add(this.settings.hoverEffect),1==this.settings.type&&this.settings.url)this.settings.cursorImg=document.createElement("img"),this.settings.cursorImg.setAttribute("src",this.settings.url),this.settings.cursor.classList.add("cursor"),this.settings.cursor.appendChild(this.settings.cursorImg),this.settings.preview.appendChild(this.settings.cursor),this.settings.preview.classList.add("cursor-img"),requestAnimationFrame(()=>this.renderImage());else{let e='<svg viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Blob</title><desc>WP Custom Cursors.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path class="fillmeinside" d="M14.8965404,0 C24.3319123,0 33.3750903,16.1924411 28.754397,24.2923631 C24.1337037,32.3922852 5.09134123,31.3965374 1.0386837,24.2923631 C-3.01397383,17.1881889 5.46116844,1.13466707e-15 14.8965404,0 Z" id="blob" fill="#D8D8D8"></path></g></svg>';if(this.settings.blobEl.classList.add("blob-svg"),this.settings.blobEl.innerHTML=e,this.settings.cursor.classList.add("cursor"),this.settings.cursorEl1.classList.add("cursor-el1"),this.settings.cursorEl2.classList.add("cursor-el2"),this.settings.cursor.appendChild(this.settings.cursorEl1),this.settings.cursor.appendChild(this.settings.cursorEl2),this.settings.cursor.appendChild(this.settings.blobEl),this.settings.preview.querySelector(".cursor")){let e=this.settings.preview.querySelector(".cursor");this.settings.preview.replaceChild(this.settings.cursor,e)}else this.settings.preview.appendChild(this.settings.cursor);this.settings.preview.classList.add(this.settings.shapeClass),requestAnimationFrame(()=>this.renderCursor())}}init(){this.settings.preview.addEventListener("mouseenter",e=>{this.settings.preview.classList.add("active")}),this.settings.preview.addEventListener("mouseleave",e=>{this.settings.preview.classList.remove("active")}),this.settings.preview.addEventListener("mousemove",e=>this.settings.mousePos=t(e)),[...this.settings.links].forEach(e=>{e.addEventListener("mouseenter",()=>this.enter("link-hover")),e.addEventListener("mouseleave",()=>this.leave("link-hover")),e.addEventListener("click",()=>this.click())}),[...this.settings.inputs].forEach(e=>{e.addEventListener("mouseenter",()=>this.enter("input-hover")),e.addEventListener("mouseleave",()=>this.leave("input-hover")),e.addEventListener("click",()=>this.click())})}renderCursor(){this.settings.cursorEl1.style.transform=`translate(${this.settings.mousePos.x}px, ${this.settings.mousePos.y}px)`,this.settings.cursorEl2.style.transform=`translate(${this.settings.mousePos.x}px, ${this.settings.mousePos.y}px)`,this.settings.blobEl.style.transform=`translate(${this.settings.mousePos.x}px, ${this.settings.mousePos.y}px)`,requestAnimationFrame(()=>this.renderCursor())}renderImage(){this.settings.cursorImg.style.transform=`translate(${this.settings.mousePos.x}px, ${this.settings.mousePos.y}px)`,requestAnimationFrame(()=>this.renderImage())}enter(e){this.settings.preview.classList.add(e)}leave(e){this.settings.preview.classList.remove(e)}click(){}}new s({});let i=document.getElementById("wt-preview"),r=e("#cursor_shape"),n=e("#default_cursor"),l=e("#apply_to"),c=e("#body_activate_input"),o=e("#element_activate_input"),a=e("#selector_data"),u=e("#plugin_hover_input"),h=e("#browser_hover_input"),d=e("#selector_type"),p=e("#cursor_color"),g=e("#cursor_width"),m=e("#cursor_type_shape"),v=e("#cursor_type_image"),f=e("#blending_mode"),w=null,y=0;function b(e){switch(e){case"tag":l.html(`&lt;${a[0].value}&gt;`);break;case"class":l.html(`.${a[0].value}`);break;case"id":l.html(`#${a[0].value}`);break;case"attribute":l.html(`[${a[0].value}]`)}}m.on("change",function(){if(m.is(":checked")){y=n.is(":checked")?1:0;new s({type:0,shape:r[0].value,color:p[0].value,cursorWidth:g[0].value,blending:f[0].value,defaultCursor:y});u.is(":checked")?(i.classList.add("plugin"),i.classList.remove("browser")):(i.classList.add("browser"),i.classList.remove("plugin"))}}),v.on("change",function(){if(v.is(":checked")){y=n.is(":checked")?1:0;new s({type:1,url:w,cursorWidth:g[0].value,blending:f[0].value,defaultCursor:y});u.is(":checked")?(i.classList.add("plugin"),i.classList.remove("browser")):(i.classList.add("browser"),i.classList.remove("plugin"))}}),r.on("select2:select",function(e){let t="custom-cursor cursor-"+e.params.data.element.value;u.is(":checked")?t+=" plugin":t+=" browser",i.className=t}),n.on("change",function(){n.is(":checked")?i.style.setProperty("--default-cursor","auto"):i.style.setProperty("--default-cursor","none")}),u.on("change",function(){if(u.is(":checked")){let e=0;e=m.is(":checked")?0:1,y=n.is(":checked")?1:0;new s({type:e,url:w,shape:r[0].value,color:p[0].value,cursorWidth:g[0].value,blending:f[0].value,defaultCursor:y,hoverEffect:"plugin"})}else{let e=0;e=m.is(":checked")?0:1,y=n.is(":checked")?1:0;new s({type:e,url:w,shape:r[0].value,color:p[0].value,cursorWidth:g[0].value,blending:f[0].value,defaultCursor:y,hoverEffect:"browser"})}}),h.on("change",function(){if(h.is(":checked")){let e=0;e=m.is(":checked")?0:1,y=n.is(":checked")?1:0;new s({type:e,url:w,shape:r[0].value,color:p[0].value,cursorWidth:g[0].value,blending:f[0].value,defaultCursor:y,hoverEffect:"browser"})}else{let e=0;e=m.is(":checked")?0:1,y=n.is(":checked")?1:0;new s({type:e,url:w,shape:r[0].value,color:p[0].value,cursorWidth:g[0].value,blending:f[0].value,defaultCursor:y,hoverEffect:"plugin"})}}),c.on("change",function(){c.is(":checked")?l.html("Body"):l.html("None")}),o.on("change",function(){o.is(":checked")?b(d[0].value):l.html("None")}),a.on("keyup",function(){b(d[0].value)}),d.on("select2:select",function(e){b(e.params.data.element.value)}),p.on("change",function(){i.style.setProperty("--color",e(this)[0].value)}),g.on("change",function(){i.style.setProperty("--cursor-width",e(this)[0].value+"px")}),f.on("select2:select",function(t){t.params.data;i.style.setProperty("--blending-mode",e(this)[0].value)});let k=e("#wpcc_image"),E=e("#wpcc_url"),C=e("#wpcc-imageselector"),L=e("#wpcc_delete_image");var x;e("#wpcc-imageselector").click(function(t){t.preventDefault(),x?x.open():((x=wp.media.frames.file_frame=wp.media({title:"Choose Cursor Image",button:{text:"Select Cursor"},multiple:!1})).on("select",function(){var t=x.state().get("selection").first().toJSON();C.addClass("deactive"),L.addClass("active"),k.attr("src",t.url),w=t.url,e(".cursor img").attr("src",t.url),y=n.is(":checked")?1:0;new s({cursorWidth:g[0].value,type:1,url:t.url,blending:f[0].value,defaultCursor:y});E.val(t.url)}),x.open())}),L.click(function(){return C.removeClass("deactive"),L.removeClass("active"),k.attr("src",""),E.val(""),w=null,!1})});